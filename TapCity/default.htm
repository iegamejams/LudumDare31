<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Tap City</title>
    <script src="js/ResourceManager.js"></script>
    <script src="js/TapCityEngine.js"></script>

    <script>
        "use strict";

        var engine = new TapCityEngine();
        function initEngine() {
            document.getElementById("oreclick").addEventListener("click", ui_clickOre);
            document.getElementById("foodclick").addEventListener("click", ui_clickFood);

            ui_gameLoop();
        }

        function ui_clickOre(evt) {
            // Sounds, UI
            engine.clickOre();
        }

        function ui_clickFood(evt) {
            // Sounds, UI
            engine.clickFood();
        }

        function ui_gameLoop() {
            // Advance the game loop
            engine.tick();

            // Update the UI
            document.getElementById("oreticker").innerText = engine.resources.ore;
            document.getElementById("foodticker").innerText = engine.resources.food;

            // 30 FPS
            window.setTimeout(ui_gameLoop, 1000 / 30);
        }
    </script>
</head>
<body onload="initEngine();">
    <img id="oreclick" src="images/ore.svg" width="200" height="200">
    <div id="oreticker"></div>

    <img id="foodclick" src="images/meat.svg" width="200" height="200">
    <div id="foodticker"></div>

    <img id="townclick" src="images/materials.svg" width="200" height="200">
</body>
</html>
